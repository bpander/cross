(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{195:function(e,t,n){},207:function(e,t,n){"use strict";n.r(t);var r,a,o=n(0),c=n.n(o),i=n(69),u=n.n(i),s=n(3),l=n(4),f=n(6),d=n(5),h=n(7),p=n(70),b=n.n(p),m=n(209),v=n(210),k=n(208),O=n(14),g=n.n(O),w=n(18),j=n(23),y=n(42),E=n.n(y),A=n(8),C=".",S=function(e,t){return-1!==e.indexOf(t)},N=function(e,t){if(t<0)return e;var n=Object(A.a)(e);return n.splice(t,1),n},x=function(e,t,n){if(t<0)return e;var r=Object(A.a)(e);return r[t]=n,r},T=function(e,t){for(var n=[],r=0;r<e;r++)n.push(t(r));return n},D=function(e){function t(){return Object(s.a)(this,t),Object(f.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement("g",{"data-group":"grid"},c.a.createElement("path",{d:t.getPathDef(this.props),stroke:"dimgrey",vectorEffect:"non-scaling-stroke"}))}}],[{key:"getPathDef",value:function(e){var t=e.size,n=630/t,r=T(t-1,function(e){return"M0,".concat(n+n*e," L").concat(n*t,",").concat(n+n*e)}),a=T(t-1,function(e){return"M".concat(n+n*e,",0 L").concat(n+n*e,",").concat(n*t)});return[].concat(Object(A.a)(r),Object(A.a)(a)).join(" ")}}]),t}(c.a.PureComponent),H=n(15),M=n.n(H),L=function(e){return c.a.createElement("div",{className:"tabs"},c.a.createElement("div",{className:"tabs__list"},e.tabs.map(function(t,n){return c.a.createElement("button",{key:n,className:M()("tabs__trigger",{"tabs__trigger--active":n===e.active}),onClick:function(){return e.onChange(n)}},t.label)})),c.a.createElement("div",{className:"tabs__panel"},e.tabs[e.active]&&e.tabs[e.active].panel()))},V=n(2),z=function(e,t){return Object(V.a)({},e.getState(),t,{update:e.update})},K=c.a.createContext({store:null}),P=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(f.a)(this,Object(d.a)(t).call(this,e))).unsubscribe=null,n.state={storeState:n.props.store.getState()},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.subscribe()}},{key:"componentDidUpdate",value:function(e){this.props.store!==e.store&&(this.unsubscribe&&this.unsubscribe(),this.subscribe())}},{key:"componentWillUnmount",value:function(){this.unsubscribe&&this.unsubscribe()}},{key:"subscribe",value:function(){var e=this,t=this.props.store;this.unsubscribe=t.subscribe(function(t){e.setState(function(e){return e.storeState===t?null:{storeState:t}})})}},{key:"render",value:function(){return c.a.createElement(K.Provider,{value:{store:this.props.store}},this.props.children)}}]),t}(c.a.Component),Z=function(e){return function(t){return function(n){function r(){var n,a;Object(s.a)(this,r);for(var o=arguments.length,i=new Array(o),u=0;u<o;u++)i[u]=arguments[u];return(a=Object(f.a)(this,(n=Object(d.a)(r)).call.apply(n,[this].concat(i)))).innerRender=function(n){return n.store&&c.a.createElement(t,e(n.store,a.props))},a}return Object(h.a)(r,n),Object(l.a)(r,[{key:"render",value:function(){return c.a.createElement(K.Consumer,null,this.innerRender)}}]),r}(c.a.Component)}},q=n(12);!function(e){e.Across="A",e.Down="D"}(r||(r={}));var R,U={letters:[],cursor:0,direction:r.Across},F=(a={},Object(q.a)(a,r.Across,r.Down),Object(q.a)(a,r.Down,r.Across),a),W=function(e){return Object(V.a)({},e,{direction:F[e.direction]})},B=function(e){return function(t){return Object(V.a)({},t,{cursor:e})}},Q=n(71),I=n.n(Q),J=n(9),$={past:[],lastSavedState:null,future:[]},Y=function(e){return e},G=function(e){return e.past[e.past.length-1]},X=function(e){return e.future[0]},_=function(e,t){return t?[].concat(Object(A.a)(e),[t]):e},ee=function(e,t,n,r){return function(a,o){if(!o)return a;var c=e(o),i=e(a);return c===i?a:t.set(function(e){return G(e)===i?{past:e.past.slice(0,-1),lastSavedState:i,future:(t=e.future,u=e.lastSavedState,u?[u].concat(Object(A.a)(t)):t)}:X(e)===i?{past:_(e.past,e.lastSavedState),lastSavedState:i,future:e.future.slice(1)}:n.some(function(e){return e(a)!==e(o)})?{past:[].concat(Object(A.a)(e.past),[c]).slice(-1*r),lastSavedState:i,future:[]}:e;var t,u})(a)}},te=function(e){var t=G(e);return t?function(){return t}:Y},ne=function(e){var t=X(e);return t?function(){return t}:Y},re=function e(t,n){return{get:t,set:function(e){return"function"===typeof e?function(r){return n(e(t(r)))(r)}:n(e)},k:function(r){return a=e(function(e){return e[r]},function(e){return function(t){if(e===t[r])return t;var n,a=(n=t,Array.isArray(n)?n.slice():n&&"object"===typeof n?Object(V.a)({},n):n);return a[r]=e,a}}),e(function(e){return a.get(t(e))},function(e){return function(r){return n(a.set(e)(t(r)))(r)}});var a}}},ae=function(){return re(function(e){return e},function(e){return function(t){return e}})},oe=n(31),ce=n.n(oe),ie=n(72),ue=n.n(ie),se=function(){var e=Object(w.a)(g.a.mark(function e(){var t,n,r;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(ue.a);case 2:return t=e.sent,e.next=5,t.text();case 5:return n=e.sent,r={success:!0,data:n.split("\n").filter(function(e){return!e.startsWith("#")}).map(function(e){return e.replace(/[^a-zA-Z]/g,"").toUpperCase()}).filter(function(e){return e.length>=3&&e.length<=15})},e.abrupt("return",function(e){return Object(V.a)({},e,{wordList:r.data})});case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),le=Object(J.a)(function(e){return e.wordList},function(e){return ce()(e,"length")}),fe=function(e,t){var n={};return Object.keys(e).forEach(function(r){n[r]=t(e[r],r,e)}),n},de=function(e,t){return t%e.width===e.width-1||S(e.blocks,t+1)},he=function(e,t){return t>=e.width*(e.height-1)||S(e.blocks,t+e.width)},pe=function(e,t,n){switch(n){case r.Across:return function(e,t){return t%e.width===0||S(e.blocks,t-1)}(e,t);case r.Down:return function(e,t){return t<e.width||S(e.blocks,t-e.width)}(e,t)}},be=function(e){var t=[],n=1;T(e.width*e.height,function(a){if(!S(e.blocks,a)){var o,c=0;(o=r,Object.keys(o).map(function(e){return o[e]})).forEach(function(o){if(pe(e,a,o)){var i=function(e,t,n){for(var a=t,o=[],c=n===r.Across?1:e.width,i=e.width*e.height;a<i;){if(o.push(a),n===r.Across){if(de(e,a))break}else if(he(e,a))break;a+=c}return o}(e,a,o);i.length>1&&(t.push({id:n+o,clue:n,direction:o,cells:i,intersections:[]}),c=1)}}),n+=c}});for(var a,o=[].concat(t);a=o.shift();)a.cells.forEach(function(e,t){o.some(function(n){var r=n.cells.indexOf(e);return-1!==r&&(n.intersections.push({index:r,otherId:a.id,otherIndex:t}),a.intersections.push({index:t,otherId:n.id,otherIndex:r}),!0)})});return t},me=Object(J.a)(function(e){return e},function(e){return be(e)}),ve=Object(J.a)(me,function(e){return ce()(e,function(e){return e.cells.length})}),ke=Object(J.a)(me,function(e){var t={};return e.forEach(function(e){t[e.cells[0]]=e.clue}),t}),Oe=n(73),ge=n.n(Oe),we=function(e,t){return[t%e,Math.floor(t/e)]},je=function(e,t){var n=Object(j.a)(t,2),r=n[0];return n[1]*e+r},ye={shape:{width:15,height:15,blocks:[]},board:U},Ee=function(e){return function(t){var n,a,o,c,i=t.board,u=t.shape;if(e===C){var s=u.blocks.indexOf(i.cursor),l=(u.width-1)/2,f=(u.height-1)/2,d=je(u.width,(o=we(u.width,i.cursor),[(c=[l,f])[0]+(c[0]-o[0]),c[1]+(c[1]-o[1])]));if(-1===s){var h=x(x(i.letters,i.cursor,""),d,""),p=[].concat(Object(A.a)(u.blocks),Object(A.a)(ge()([i.cursor,d])));return{shape:Object(V.a)({},u,{blocks:p}),board:Object(V.a)({},i,{letters:h})}}var b=(n=N(u.blocks,s),a=d,N(n,n.indexOf(a)));return ae().k("shape").k("blocks").set(b)(t)}var m=""===e?-1:1,v=i.direction===r.Across?1:u.width;return ae().k("board").set(function(t){return Object(V.a)({},t,{letters:x(t.letters,t.cursor,e),cursor:t.cursor+m*v})})(t)}},Ae=Object(J.a)(function(e){return me(e.shape)},function(e){return e.board.cursor},function(e){return e.board.direction},function(e,t,n){return e.find(function(e){return e.direction===n&&S(e.cells,t)})}),Ce=Object(J.a)(function(e){return me(e.shape)},function(e){return e.board.letters},function(e,t){var n={};return e.forEach(function(e){for(var r="",a=0;a<e.cells.length;a++){var o=t[e.cells[a]];if(!o)return;r+=o}n[e.id]=r}),n}),Se={dictionary:{wordList:[]},editor:ye,editorHistory:$},Ne=ae(),xe=Ne.k("editor"),Te=Object(V.a)({},Ne,{dictionary:Ne.k("dictionary"),editor:Object(V.a)({},xe,{board:xe.k("board"),shape:xe.k("shape")}),editorHistory:Ne.k("editorHistory")}),De=function(e,t){return function(n){var r=Object(A.a)(n.editor.board.letters);t.cells.forEach(function(t,n){r[t]=e.substr(n,1)});var a=Te.editor.board.k("letters").set(r)(n),o=function(e,t){var n,r=1/0;return Object.keys(e).forEach(function(a){var o=t(e[a],a,e);o<r&&(n=a,r=o)}),n}(Le(a),function(e){return e?e.length:1/0}),c=n.editor.board,i=c.cursor,u=c.direction;if(o){var s=me(n.editor.shape).find(function(e){return e.id===o});s&&(i=s.cells[0],u=s.direction)}return Te.editor.board.set(function(e){return Object(V.a)({},e,{cursor:i,direction:u})})(a)}},He=Object(J.a)(function(e){return me(e.editor.shape)},function(e){return le(e.dictionary)},function(e,t){return fe(I()(e,"id"),function(e){return Object(J.a)(function(t){return e.cells.map(function(e){return t[e]||"."}).join("")},function(e){if(!e.includes("."))return null;if(-1===e.search(/[A-Z]/))return t[e.length];var n=new RegExp("^".concat(e,"$"));return t[e.length].filter(function(e){return n.test(e)})})})}),Me=function(e){var t=Ae(e.editor);return t&&He(e)[t.id](e.editor.board.letters)||[]},Le=Object(J.a)(function(e){return He(e)},function(e){return e.editor.board.letters},function(e,t){return fe(e,function(e){return e(t)})}),Ve=function(e){function t(){return Object(s.a)(this,t),Object(f.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"renderCell",value:function(e,t,n){var r=this,a=this.props.editor,o=a.board,i=a.shape,u=630/i.width,s=e%i.width*u,l=Math.floor(e/i.width)*u;return c.a.createElement("g",{key:e,onClick:function(){var t=e===o.cursor?Te.editor.board.set(W):Te.editor.board.set(B(e));r.props.update(t)}},c.a.createElement("rect",{x:s,y:l,width:u,height:u,className:M()("board__cell",{"board__cell--highlight":n&&S(n.cells,e),"board__cell--cursor":e===o.cursor,"board__cell--black":S(i.blocks,e)})}),t[e]&&c.a.createElement("text",{x:s+.05*u,y:l+.05*u,alignmentBaseline:"hanging",fontSize:.3*u},t[e]),o.letters[e]&&c.a.createElement("text",{x:s+u/2,y:l+u-.1*u,textAnchor:"middle",alignmentBaseline:"baseline",fontSize:.8*u},o.letters[e]))}},{key:"render",value:function(){var e=this,t=this.props.editor.shape,n=ke(t),r=Ae(this.props.editor);return c.a.createElement("g",{"data-group":"cells"},T(t.width*t.height,function(t){return e.renderCell(t,n,r)}))}}]),t}(c.a.Component),ze=Z(z)(Ve),Ke=function(){},Pe=function e(t){var n=this;Object(s.a)(this,e),this.ms=t,this.resolve=Ke,this.reject=Ke,this.onTimeout=Ke,this.promise=new Promise(function(e,r){var a=setTimeout(function(){n.onTimeout(),r()},t);n.resolve=function(t){clearTimeout(a),e(t)},n.reject=function(e){clearTimeout(a),r(e)}})},Ze=function(){function e(t,n){Object(s.a)(this,e),this.path=t,this.config=n,this.queue=[],this.threads=[]}return Object(l.a)(e,[{key:"enqueue",value:function(e){this.queue=this.queue.concat(e),this.processQueue()}},{key:"createThread",value:function(e){var t=new Pe(this.config.timeout),n={datum:e,worker:new Worker(this.path),deferred:t};return this.config.onThreadCreated(n),n}},{key:"repurposeThread",value:function(e,t){var n=new Pe(this.config.timeout);return{datum:t,worker:e.worker,deferred:n}}},{key:"processQueue",value:function(e){var t=this;if(this.queue.length){var n;if(e){var r=this.queue.shift();n=this.repurposeThread(e,r)}else{if(this.threads.length>=this.config.limit)return;var a=this.queue.shift();n=this.createThread(a)}n.deferred.promise.then(function(){var e=t.threads.indexOf(n);e>-1&&t.threads.splice(e,1),t.processQueue(n)}).catch(function(){return t.handleFailedThread(n)}),n.deferred.onTimeout=function(){return t.config.onThreadTimeout(n)},this.threads.push(n),this.config.onThreadReady(n),this.processQueue()}else this.threads.length||this.config.onQueueEmpty()}},{key:"handleFailedThread",value:function(e){var t=this.threads.indexOf(e);t>-1&&this.threads.splice(t,1),e.worker.terminate(),this.processQueue()}},{key:"killAll",value:function(){this.queue=[],Object(A.a)(this.threads).forEach(function(e){return e.deferred.reject()})}}]),e}();!function(e){e[e.Processing=0]="Processing",e[e.Succeeded=1]="Succeeded",e[e.Failed=2]="Failed",e[e.TimedOut=3]="TimedOut"}(R||(R={}));var qe=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(f.a)(this,Object(d.a)(t).call(this,e))).getConstraints=Object(J.a)(function(e){return me(e.editor.shape)},function(e){return Le(e)},function(e){return Ae(e.editor)},function(e){return Ce(e.editor)},function(e,t,n,r){return n?{slots:e,fittingWords:t,slot:n,closedSet:r}:null}),n.evaluateCandidates=Object(J.a)(Me,function(e){n.threadPool.killAll(),e.length&&n.threadPool.enqueue(e.slice(0,100))}),n.onThreadCreated=function(e){e.worker.postMessage({type:"prepare",payload:n.getConstraints(n.props)})},n.onThreadReady=function(e){var t=Ae(n.props.editor);if(t){e.worker.onmessage=function(r){if(r.data.res.success){var a={status:R.Succeeded,slotId:t.id,wordKey:e.datum,closedSet:r.data.res.closedSet};n.setState({evaluations:Object(V.a)({},n.state.evaluations,Object(q.a)({},a.wordKey,a))})}else{var o={status:R.Failed,slotId:t.id,wordKey:e.datum};n.setState({evaluations:Object(V.a)({},n.state.evaluations,Object(q.a)({},o.wordKey,o))}),console.log("fail",e.datum)}e.deferred.resolve()},e.worker.postMessage({type:"process",payload:e.datum});var r={status:R.Processing,wordKey:e.datum,slotId:t.id};n.setState({evaluations:Object(V.a)({},n.state.evaluations,Object(q.a)({},r.wordKey,r))})}},n.onThreadTimeout=function(e){var t=Ae(n.props.editor);if(t){var r={status:R.TimedOut,wordKey:e.datum,slotId:t.id};n.setState({evaluations:Object(V.a)({},n.state.evaluations,Object(q.a)({},r.wordKey,r))})}},n.onDoubleClick=function(e){var t=Ae(n.props.editor),r=e.currentTarget.getAttribute("data-word");t&&r&&n.props.update(Te.set(De(r,t)))},n.state={evaluations:{}},n.threadPool=new Ze("solver.worker.js",{limit:8,timeout:1e4,onThreadCreated:n.onThreadCreated,onThreadReady:n.onThreadReady,onThreadTimeout:n.onThreadTimeout,onQueueEmpty:function(){return console.log("done")}}),n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){var e=this;setTimeout(function(){return e.evaluateCandidates(e.props)},0)}},{key:"componentWillUnmount",value:function(){this.threadPool.killAll()}},{key:"render",value:function(){var e=this,t=Me(this.props),n=this.state.evaluations;return c.a.createElement("div",null,c.a.createElement("div",null,"Fill"),c.a.createElement("table",null,c.a.createElement("tbody",null,t.slice(0,100).map(function(t){return c.a.createElement("tr",{key:t,tabIndex:0,"data-word":t,onDoubleClick:e.onDoubleClick,className:"row row--".concat(n[t]&&n[t].status)},c.a.createElement("td",null,n[t]&&n[t].status),c.a.createElement("td",null,t))}))))}}]),t}(c.a.Component),Re=Z(z)(qe),Ue=n(74),Fe=n.n(Ue),We=n(75),Be=n.n(We),Qe=n(76),Ie=n.n(Qe),Je=function(e){function t(){return Object(s.a)(this,t),Object(f.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",className:M()("icon",this.props.className)},c.a.createElement("path",{d:this.props.def.pathDef}))}}]),t}(c.a.PureComponent),$e={name:"checker",pathDef:"M21.93,3.6l-.06-.2a2.3,2.3,0,0,0-.15-.32,3.21,3.21,0,0,0-.21-.3,2.27,2.27,0,0,0-.31-.31l-.15-.11-.17-.11-.25-.11a1.09,1.09,0,0,0-.24-.07A1.9,1.9,0,0,0,19.85,2H4.14A2.14,2.14,0,0,0,2,4.14V19.85a1.88,1.88,0,0,0,.07.53,2.12,2.12,0,0,0,.49.91,1.06,1.06,0,0,0,.15.15,2.14,2.14,0,0,0,.9.49,2.35,2.35,0,0,0,.54.07H19.86A2.14,2.14,0,0,0,22,19.85V4.14A2.35,2.35,0,0,0,21.93,3.6ZM20.57,19.85a.71.71,0,0,1-.72.71H12V12H3.43V4.14a.72.72,0,0,1,.71-.72H12V12h8.57Z"},Ye={name:"circle",pathDef:"M12,2C6.5,2,2,6.5,2,12s4.5,10,10,10s10-4.5,10-10S17.5,2,12,2z M12,20.1c-4.5,0-8.1-3.6-8.1-8.1S7.5,3.9,12,3.9s8.1,3.6,8.1,8.1S16.5,20.1,12,20.1z"},Ge={name:"cursor",pathDef:"M12,3.62A5.46,5.46,0,0,0,7.46,2,.48.48,0,0,0,7,2.47v.92a.47.47,0,0,0,.47.47c1.07,0,3.59.18,3.59,2.2v5H9.66a.47.47,0,0,0-.47.47v.94a.47.47,0,0,0,.47.47h1.4v5c0,2-2.43,2.18-3.59,2.18a.48.48,0,0,0-.47.47v.94a.48.48,0,0,0,.46.47A5.44,5.44,0,0,0,12,20.38,5.46,5.46,0,0,0,16.54,22a.48.48,0,0,0,.46-.47v-.92a.47.47,0,0,0-.47-.47c-1.07,0-3.59-.18-3.59-2.2v-5h1.4a.47.47,0,0,0,.47-.47v-.94a.47.47,0,0,0-.47-.47h-1.4v-5c0-2,2.43-2.18,3.59-2.18A.48.48,0,0,0,17,3.41V2.47A.48.48,0,0,0,16.54,2,5.44,5.44,0,0,0,12,3.62Z"},Xe={name:"redo",pathDef:"M12,2a10,10,0,0,1,6.89,2.77l1.44-1.44A1,1,0,0,1,22,4V9.42a1,1,0,0,1-1,1h-5.4a1,1,0,0,1-.69-1.65l1.69-1.69a6.77,6.77,0,1,0-.17,10.05.48.48,0,0,1,.66,0l1.6,1.6a.48.48,0,0,1,0,.7A10,10,0,1,1,12,2Z"},_e={name:"square",pathDef:"M21.93,3.6l-.06-.2a2.3,2.3,0,0,0-.15-.32,3.21,3.21,0,0,0-.21-.3,2.27,2.27,0,0,0-.31-.31l-.15-.11-.17-.11-.25-.11a1.09,1.09,0,0,0-.24-.07A1.9,1.9,0,0,0,19.85,2H4.14A2.14,2.14,0,0,0,2,4.14V19.85a1.88,1.88,0,0,0,.07.53,2.12,2.12,0,0,0,.49.91,1.06,1.06,0,0,0,.15.15,2.14,2.14,0,0,0,.9.49,2.35,2.35,0,0,0,.54.07H19.86A2.14,2.14,0,0,0,22,19.85V4.14A2.35,2.35,0,0,0,21.93,3.6Z"},et={name:"textRotateVertical",pathDef:"M15.75,5h-1.5L9.5,16h2.1l.9-2.2h5l.9,2.2h2.1Zm-2.62,7L15,7l1.87,5ZM6,19.75l3-3H7V4.25H5v12.5H3Z"},tt={name:"textRotationNone",pathDef:"M12.75 3h-1.5L6.5 14h2.1l.9-2.2h5l.9 2.2h2.1L12.75 3zm-2.62 7L12 4.98 13.87 10h-3.74zm10.37 8l-3-3v2H5v2h12.5v2l3-3z"},nt={name:"undo",pathDef:"M12,2A10,10,0,0,0,5.09,4.77L3.65,3.33A1,1,0,0,0,2,4V9.42a1,1,0,0,0,1,1h5.4a1,1,0,0,0,.69-1.65L7.37,7.05A6.77,6.77,0,1,1,7.54,17.1a.48.48,0,0,0-.66,0l-1.6,1.6a.48.48,0,0,0,0,.7A10,10,0,1,0,12,2Z"},rt=function(e){function t(){var e,n;Object(s.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(f.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).onUndoClick=function(){return n.props.update(Te.editor.set(te(n.props.editorHistory)))},n.onRedoClick=function(){return n.props.update(Te.editor.set(ne(n.props.editorHistory)))},n.onToggleBlackClick=function(){n.props.update(Te.editor.set(Ee(C)))},n.onToggleDirectionClick=function(){n.props.update(Te.editor.board.set(W))},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"renderToolbar",value:function(){var e=this.props.editor,t=e.board,n=e.shape,a=t.direction===r.Across?tt:et;return c.a.createElement("div",{className:"py-1 typ-1.5"},c.a.createElement("ul",{className:"h-list h-list-1"},c.a.createElement("li",null,c.a.createElement("button",{className:"btn d-block",disabled:!G(this.props.editorHistory),onClick:this.onUndoClick},c.a.createElement(Je,{def:nt,className:"d-block"}))),c.a.createElement("li",null,c.a.createElement("button",{className:"btn d-block",disabled:!X(this.props.editorHistory),onClick:this.onRedoClick},c.a.createElement(Je,{def:Xe,className:"d-block"}))),c.a.createElement("li",null,c.a.createElement("div",{className:"vr mx-1"})),c.a.createElement("li",null,c.a.createElement("button",{className:"btn btn--active d-block"},c.a.createElement(Je,{def:$e,className:"d-block"}))),c.a.createElement("li",null,c.a.createElement("button",{className:M()("btn d-block",{"btn--active":S(n.blocks,t.cursor)}),onClick:this.onToggleBlackClick},c.a.createElement(Je,{def:_e,className:"d-block"}))),c.a.createElement("li",null,c.a.createElement("button",{className:"btn d-block"},c.a.createElement(Je,{def:Ye,className:"d-block"}))),c.a.createElement("li",null,c.a.createElement("button",{className:"btn d-block",onClick:this.onToggleDirectionClick},c.a.createElement(Je,{def:a,className:"d-block"}))),c.a.createElement("li",null,c.a.createElement("button",{className:"btn d-block"},c.a.createElement(Je,{def:Ge,className:"d-block"})))))}},{key:"render",value:function(){var e=this.props.editor.shape,t=ve(e),n=Fe()(Ie()(t),function(e){return e.length}).length;return c.a.createElement(c.a.Fragment,null,this.renderToolbar(),c.a.createElement("hr",{className:"hr"}),c.a.createElement("div",{className:"bar-graph"},Be()(1,e.width+1).map(function(r){var a=t[r]?t[r].length:0;return c.a.createElement("div",{key:r,className:"bar-graph__bar",style:{left:r/e.width*90+5+"%",transform:"translateY(-".concat(a/n*100,"%)")}})})))}}]),t}(c.a.Component),at=Z(z)(rt),ot=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(f.a)(this,Object(d.a)(t).call(this,e))).tabs=[{label:"Structure",panel:function(){return c.a.createElement(k.a,{component:at})}},{label:"Fill",panel:function(){return c.a.createElement(k.a,{component:Re})}},{label:"Clues",panel:function(){return c.a.createElement("div",null,"clues")}},{label:"Share/Export",panel:function(){return c.a.createElement("div",null,"share/export")}}],n.onKeyDown=function(e){var t=n.props.editor,r=t.board,a=t.shape,o=1;switch(e.key){case"ArrowUp":o=-1;case"ArrowDown":var c=we(a.width,r.cursor),i=Object(j.a)(c,1)[0],u=je(a.width,[i,0]),s=je(a.width,[i,a.width-1]),l=E()(r.cursor+a.width*o,u,s);n.props.update(Te.editor.board.set(B(l)));break;case"ArrowLeft":o=-1;case"ArrowRight":var f=we(a.width,r.cursor),d=Object(j.a)(f,2)[1],h=je(a.width,[0,d]),p=je(a.width,[a.width-1,d]),b=E()(r.cursor+o,h,p);n.props.update(Te.editor.board.set(B(b)));break;case"Enter":return n.props.update(Te.editor.board.set(W));case"Backspace":return n.props.update(Te.editor.set(Ee("")));default:(e.key.match(/^[a-z]$/i)||e.key===C)&&n.props.update(Te.editor.set(Ee(e.key.toUpperCase())))}},n.onTabChange=function(e){n.setState({tab:e})},n.state={tab:0},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(w.a)(g.a.mark(function e(){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return window.addEventListener("keydown",this.onKeyDown),e.t0=this.props,e.t1=Te.dictionary,e.next=5,se();case 5:e.t2=e.sent,e.t3=e.t1.set.call(e.t1,e.t2),e.t0.update.call(e.t0,e.t3);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.props.update(Te.editorHistory.set($)),window.removeEventListener("keydown",this.onKeyDown)}},{key:"render",value:function(){return c.a.createElement("div",{className:"grid"},c.a.createElement("div",{className:"grid__col"},c.a.createElement("svg",{width:630,height:630,viewBox:"0 0 ".concat(630," ").concat(630),className:"board"},c.a.createElement(k.a,{component:ze}),c.a.createElement(D,{size:this.props.editor.shape.width}))),c.a.createElement("div",{className:"grid__col"},c.a.createElement(L,{tabs:this.tabs,active:this.state.tab,onChange:this.onTabChange})))}}]),t}(c.a.Component),ct=Z(z)(ot),it=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=n.reduce(function(e,t){return t(e)},e),o=[];return{getState:function(){return a},update:function(){var e=Object(w.a)(g.a.mark(function e(t){var r,c;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=t(a),c=a,a=n.reduce(function(e,t){return t(e,c)},r),o.forEach(function(e){return e(a)});case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),subscribe:function(e){return o.push(e),function(){var t=o.indexOf(e);t>-1&&o.splice(t,1)}}}},ut=n(78),st=n.n(ut),lt=function(e,t){return function(n,r){return st()(t,function(t,a,o){if(!r){var c=JSON.parse(localStorage.getItem(e+"."+o));if(c)return a.set(function(e){return Object(V.a)({},e,c)})(t)}var i=a.get(n);return r&&i===a.get(r)||localStorage.setItem(e+"."+o,JSON.stringify(i)),n},n)}},ft=b()(),dt=it(Se,lt("cross",{board:Te.editor.board,shape:Te.editor.shape}),ee(Te.editor.get,Te.editorHistory,[Te.editor.board.k("letters").get,Te.editor.shape.k("blocks").get],200)),ht=function(e){function t(){return Object(s.a)(this,t),Object(f.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement(m.a,{history:ft},c.a.createElement(P,{store:dt},c.a.createElement(v.a,null,c.a.createElement(k.a,{component:ct}))))}}]),t}(c.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(195);u.a.render(c.a.createElement(ht,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},72:function(e,t,n){e.exports=n.p+"static/media/default.cd6fac4a.dict"},80:function(e,t,n){e.exports=n(207)}},[[80,2,1]]]);
//# sourceMappingURL=main.db5c2235.chunk.js.map